<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<meta name="author" content="2025-04-19 02:05:07 UTC">
<title>Authentication For DAP Clients</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge, pre.rouge .w {
  color: #24292f;
  background-color: #f6f8fa;
}
pre.rouge .k, pre.rouge .kd, pre.rouge .kn, pre.rouge .kp, pre.rouge .kr, pre.rouge .kt, pre.rouge .kv {
  color: #cf222e;
}
pre.rouge .gr {
  color: #f6f8fa;
}
pre.rouge .gd {
  color: #82071e;
  background-color: #ffebe9;
}
pre.rouge .nb {
  color: #953800;
}
pre.rouge .nc {
  color: #953800;
}
pre.rouge .no {
  color: #953800;
}
pre.rouge .nn {
  color: #953800;
}
pre.rouge .sr {
  color: #116329;
}
pre.rouge .na {
  color: #116329;
}
pre.rouge .nt {
  color: #116329;
}
pre.rouge .gi {
  color: #116329;
  background-color: #dafbe1;
}
pre.rouge .ges {
  font-weight: bold;
  font-style: italic;
}
pre.rouge .kc {
  color: #0550ae;
}
pre.rouge .l, pre.rouge .ld, pre.rouge .m, pre.rouge .mb, pre.rouge .mf, pre.rouge .mh, pre.rouge .mi, pre.rouge .il, pre.rouge .mo, pre.rouge .mx {
  color: #0550ae;
}
pre.rouge .sb {
  color: #0550ae;
}
pre.rouge .bp {
  color: #0550ae;
}
pre.rouge .ne {
  color: #0550ae;
}
pre.rouge .nl {
  color: #0550ae;
}
pre.rouge .py {
  color: #0550ae;
}
pre.rouge .nv, pre.rouge .vc, pre.rouge .vg, pre.rouge .vi, pre.rouge .vm {
  color: #0550ae;
}
pre.rouge .o, pre.rouge .ow {
  color: #0550ae;
}
pre.rouge .gh {
  color: #0550ae;
  font-weight: bold;
}
pre.rouge .gu {
  color: #0550ae;
  font-weight: bold;
}
pre.rouge .s, pre.rouge .sa, pre.rouge .sc, pre.rouge .dl, pre.rouge .sd, pre.rouge .s2, pre.rouge .se, pre.rouge .sh, pre.rouge .sx, pre.rouge .s1, pre.rouge .ss {
  color: #0a3069;
}
pre.rouge .nd {
  color: #8250df;
}
pre.rouge .nf, pre.rouge .fm {
  color: #8250df;
}
pre.rouge .err {
  color: #f6f8fa;
  background-color: #82071e;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cm, pre.rouge .cp, pre.rouge .cpf, pre.rouge .c1, pre.rouge .cs {
  color: #6e7781;
}
pre.rouge .gl {
  color: #6e7781;
}
pre.rouge .gt {
  color: #6e7781;
}
pre.rouge .ni {
  color: #24292f;
}
pre.rouge .si {
  color: #24292f;
}
pre.rouge .ge {
  color: #24292f;
  font-style: italic;
}
pre.rouge .gs {
  color: #24292f;
  font-weight: bold;
}
</style>
<!--
###############################################################################
# Generate a nice TOC
#
# Thanks to StackOverflow user "rec",
#     https://stackoverflow.com/users/2511197/rec
# For this answer:
#     https://stackoverflow.com/questions/34481638/how-to-use-tocify-with-asciidoctor-for-a-dynamic-toc
# Which seems to be working nicely for us.
#
# The OPeNDAP Team
###############################################################################
-->

<!-- Generate a nice TOC -->
<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
<script>
/*! jquery.tocify - v1.9.0 - 2013-10-01
 * http://gregfranko.com/jquery.tocify.js/
 * Copyright (c) 2013 Greg Franko; Licensed MIT
 */
    (function (e) {
        "use strict"; e(window.jQuery, window, document)
    })(function (e, t, s) {
        "use strict"; var i = "tocify", o = "tocify-focus", n = "tocify-hover", a = "tocify-hide", l = "tocify-header", h = "." + l, r = "tocify-subheader", d = "." + r, c = "tocify-item", f = "." + c, u = "tocify-extend-page", p = "." + u; e.widget("toc.tocify", {
            version: "1.9.0", options: {
                context: "body", ignoreSelector: null, selectors: "h1, h2, h3", showAndHide: ! 0, showEffect: "slideDown", showEffectSpeed: "medium", hideEffect: "slideUp", hideEffectSpeed: "medium", smoothScroll: ! 0, smoothScrollSpeed: "medium", scrollTo: 0, showAndHideOnScroll: ! 0, highlightOnScroll: ! 0, highlightOffset: 40, theme: "bootstrap", extendPage: ! 0, extendPageOffset: 100, history: ! 0, scrollHistory: ! 1, hashGenerator: "compact", highlightDefault: ! 0
            },
            _create: function () {
                var s = this; s.extendPageScroll = ! 0, s.items =[], s._generateToc(), s._addCSSClasses(), s.webkit = function () {
                    for (var e in t) if (e && -1 !== e.toLowerCase().indexOf("webkit")) return ! 0; return ! 1
                }
                (), s._setEventHandlers(), e(t).load(function () {
                    s._setActiveElement(! 0), e("html, body").promise().done(function () {
                        setTimeout(function () {
                                s.extendPageScroll = ! 1
                            },
                            0)
                    })
                })
            },
            _generateToc: function () {
                var t, s, o = this, n = o.options.ignoreSelector; return t = -1 !== this.options.selectors.indexOf(",") ? e(this.options.context).find(this.options.selectors.replace(/ /g, "").substr(0, this.options.selectors.indexOf(","))): e(this.options.context).find(this.options.selectors.replace(/ /g, "")), t.length ?(o.element.addClass(i), t.each(function (t) {
                    e(this).is(n) ||(s = e("<ul/>", {
                        id: l + t, "class": l
                    }).append(o._nestElements(e(this), t)), o.element.append(s), e(this).nextUntil(this.nodeName.toLowerCase()).each(function () {
                        0 === e(this).find(o.options.selectors).length ? e(this).filter(o.options.selectors).each(function () {
                            e(this).is(n) || o._appendSubheaders.call(this, o, s)
                        }): e(this).find(o.options.selectors).each(function () {
                            e(this).is(n) || o._appendSubheaders.call(this, o, s)
                        })
                    }))
                }), undefined):(o.element.addClass(a), undefined)
            },
            _setActiveElement: function (e) {
                var s = this, i = t.location.hash.substring(1), o = s.element.find('li[data-unique="' + i + '"]');
                return i.length ?(s.element.find("." + s.focusClass).removeClass(s.focusClass), o.addClass(s.focusClass), s.options.showAndHide && o.click()):(s.element.find("." + s.focusClass).removeClass(s.focusClass), ! i.length && e && s.options.highlightDefault && s.element.find(f).first().addClass(s.focusClass)), s
            },
            _nestElements: function (t, s) {
                var i, o, n; return i = e.grep(this.items, function (e) {
                    return e === t.text()
                }), i.length ? this.items.push(t.text() + s): this.items.push(t.text()), n = this._generateHashValue(i, t, s), o = e("<li/>", {
                    "class": c, "data-unique": n
                }).append(e("<a/>", {
                    text: t.text()
                })), t.before(e("<div/>", {
                    name: n, "data-unique": n
                })), o
            },
            _generateHashValue: function (e, t, s) {
                var i = "", o = this.options.hashGenerator; if ("pretty" === o) {
                    for (i = t.text().toLowerCase().replace(/\s/g, "-");
                         i.indexOf("--") > -1;) i = i.replace(/--/g, "-");
                    for (; i.indexOf(":-") > -1;) i = i.replace(/:-/g, "-")
                } else i = "function" == typeof o ? o(t.text(), t): t.text().replace(/\s/g, "");
                return e.length &&(i += "" + s), i
            },
            _appendSubheaders: function (t, s) {
                var i = e(this).index(t.options.selectors), o = e(t.options.selectors).eq(i -1), n = + e(this).prop("tagName").charAt(1), a = + o.prop("tagName").charAt(1);
                a > n ? t.element.find(d + "[data-tag=" + n + "]").last().append(t._nestElements(e(this), i)): n === a ? s.find(f).last().after(t._nestElements(e(this), i)): s.find(f).last().after(e("<ul/>", {
                    "class": r, "data-tag": n
                })).next(d).append(t._nestElements(e(this), i))
            },
            _setEventHandlers: function () {
                var i = this; this.element.on("click.tocify", "li", function () {
                    if (i.options.history &&(t.location.hash = e(this).attr("data-unique")), i.element.find("." + i.focusClass).removeClass(i.focusClass), e(this).addClass(i.focusClass), i.options.showAndHide) {
                        var s = e('li[data-unique="' + e(this).attr("data-unique") + '"]');
                        i._triggerShow(s)
                    }
                    i._scrollTo(e(this))
                }), this.element.find("li").on({
                    "mouseenter.tocify": function () {
                        e(this).addClass(i.hoverClass), e(this).css("cursor", "pointer")
                    },
                    "mouseleave.tocify": function () {
                        "bootstrap" !== i.options.theme && e(this).removeClass(i.hoverClass)
                    }
                }),(i.options.extendPage || i.options.highlightOnScroll || i.options.scrollHistory || i.options.showAndHideOnScroll) && e(t).on("scroll.tocify", function () {
                    e("html, body").promise().done(function () {
                        var o, n, a, l, h = e(t).scrollTop(), r = e(t).height(), d = e(s).height(), c = e("body")[0].scrollHeight; if (i.options.extendPage &&(i.webkit && h >= c - r - i.options.extendPageOffset || ! i.webkit && r + h > d - i.options.extendPageOffset) && ! e(p).length) {
                            if (n = e('div[data-unique="' + e(f).last().attr("data-unique") + '"]'), ! n.length) return; a = n.offset().top, e(i.options.context).append(e("<div />", {
                                "class": u, height: Math.abs(a - h) + "px", "data-unique": u
                            })), i.extendPageScroll &&(l = i.element.find("li.active"), i._scrollTo(e('div[data-unique="' + l.attr("data-unique") + '"]')))
                        }
                        setTimeout(function () {
                                var s, n = null, a = null, l = e(i.options.context).find("div[data-unique]");
                                l.each(function (t) {
                                    var s = Math.abs((e(this).next().length ? e(this).next(): e(this)).offset().top - h - i.options.highlightOffset);
                                    return null == n || n > s ?(n = s, a = t, undefined): ! 1
                                }), s = e(l[a]).attr("data-unique"), o = e('li[data-unique="' + s + '"]'), i.options.highlightOnScroll && o.length &&(i.element.find("." + i.focusClass).removeClass(i.focusClass), o.addClass(i.focusClass)), i.options.scrollHistory && t.location.hash !== "#" + s && t.location.replace("#" + s), i.options.showAndHideOnScroll && i.options.showAndHide && i._triggerShow(o, ! 0)
                            },
                            0)
                    })
                })
            },
            show: function (t) {
                var s = this; if (! t.is(":visible")) switch (t.find(d).length || t.parent().is(h) || t.parent().is(":visible") ? t.children(d).length || t.parent().is(h) ||(t = t.closest(d)): t = t.parents(d).add(t), s.options.showEffect) {
                    case "none": t.show();
                        break; case "show": t.show(s.options.showEffectSpeed);
                        break; case "slideDown": t.slideDown(s.options.showEffectSpeed);
                        break; case "fadeIn": t.fadeIn(s.options.showEffectSpeed);
                        break; default: t.show()
                }
                return t.parent().is(h) ? s.hide(e(d).not(t)): s.hide(e(d).not(t.closest(h).find(d).not(t.siblings()))), s
            },
            hide: function (e) {
                var t = this; switch (t.options.hideEffect) {
                    case "none": e.hide();
                        break; case "hide": e.hide(t.options.hideEffectSpeed);
                        break; case "slideUp": e.slideUp(t.options.hideEffectSpeed);
                        break; case "fadeOut": e.fadeOut(t.options.hideEffectSpeed);
                        break; default: e.hide()
                }
                return t
            },
            _triggerShow: function (e, t) {
                var s = this; return e.parent().is(h) || e.next().is(d) ? s.show(e.next(d), t): e.parent().is(d) && s.show(e.parent(), t), s
            },
            _addCSSClasses: function () {
                return "jqueryui" === this.options.theme ?(this.focusClass = "ui-state-default", this.hoverClass = "ui-state-hover", this.element.addClass("ui-widget").find(".toc-title").addClass("ui-widget-header").end().find("li").addClass("ui-widget-content")): "bootstrap" === this.options.theme ?(this.element.find(h + "," + d).addClass("nav nav-list"), this.focusClass = "active"):(this.focusClass = o, this.hoverClass = n), this
            },
            setOption: function () {
                e.Widget.prototype._setOption.apply(this, arguments)
            },
            setOptions: function () {
                e.Widget.prototype._setOptions.apply(this, arguments)
            },
            _scrollTo: function (t) {
                var s = this, i = s.options.smoothScroll || 0, o = s.options.scrollTo, n = e('div[data-unique="' + t.attr("data-unique") + '"]');
                return n.length ?(e("html, body").promise().done(function () {
                    e("html, body").animate({
                        scrollTop: n.offset().top -(e.isFunction(o) ? o.call(): o) + "px"
                    }, {
                        duration: i
                    })
                }), s): s
            }
        })
    });
</script>
<!-- We do not need the tocify CSS because the asciidoc CSS already provides most of what we neeed -->

<style>
    .tocify-header {
        font-style: italic;
    }

    .tocify-subheader {
        font-style: normal;
        font-size: 90%;
    }

    .tocify ul {
        margin: 0;
    }

    .tocify-focus {
        color: #7a2518;
        background-color: rgba(0, 0, 0, 0.1);
    }

    .tocify-focus > a {
        color: #7a2518;
    }
</style>

<script type="text/javascript">
    $(function () {
        // Add a new container for the tocify toc into the existing toc so we can re-use its
        // styling
        $("#toc").append("<div id='generated-toc'></div>");
        $("#generated-toc").tocify({
            extendPage: true,
            context: "#content",
            highlightOnScroll: true,
            hideEffect: "slideUp",
            // Use the IDs that asciidoc already provides so that TOC links and intra-document
            // links are the same. Anything else might confuse users when they create bookmarks.
            hashGenerator: function(text, element) {
                return $(element).attr("id");
            },
            // Smooth scrolling doesn't work properly if we use the asciidoc IDs
            smoothScroll: false,
            // Set to 'none' to use the tocify classes
            theme: "none",
            // Handle book (may contain h1) and article (only h2 deeper)
            selectors: $( "#content" ).has( "h1" ).size() > 0 ? "h1,h2,h3,h4,h5" : "h2,h3,h4,h5",
            ignoreSelector: ".discrete"
        });

        // Switch between static asciidoc toc and dynamic tocify toc based on browser size
        // This is set to match the media selectors in the asciidoc CSS
        // Without this, we keep the dynamic toc even if it is moved from the side to preamble
        // position which will cause odd scrolling behavior
        var handleTocOnResize = function() {
            if ($(document).width() < 768) {
                $("#generated-toc").hide();
                $(".sectlevel0").show();
                $(".sectlevel1").show();
            }
            else {
                $("#generated-toc").show();
                $(".sectlevel0").hide();
                $(".sectlevel1").hide();
            }
        }

        $(window).resize(handleTocOnResize);
        handleTocOnResize();
    });
</script>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1><span class="image"><img src="../images/OPeNDAP-Logo-red.svg" alt="OPeNDAP Logo red" width="350"></span> Authentication For DAP Clients</h1>
<div class="details">
<span id="author" class="author">2025-04-19 02:05:07 UTC</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_overview">1. Overview</a>
<ul class="sectlevel2">
<li><a href="#_some_dap_data_access_clients">1.1. Some DAP Data Access Clients</a></li>
<li><a href="#netrc">1.2. Our friend, the <code>.netrc</code> file</a></li>
</ul>
</li>
<li><a href="#_earthdata_login_oauth2">2. Earthdata Login (OAuth2)</a>
<ul class="sectlevel2">
<li><a href="#_setting_up_earthdata_login">2.1. Setting Up Earthdata Login</a>
<ul class="sectlevel3">
<li><a href="#_acquire_earthdata_login_credentials">2.1.1. Acquire Earthdata Login Credentials</a></li>
<li><a href="#_approving_the_hyrax_opendap_service_application">2.1.2. Approving The Hyrax OPeNDAP Service Application</a></li>
</ul>
</li>
<li><a href="#_curl_a_k_a_lib_curl_or_curl">2.2. <em>cURL</em> (a.k.a. <em>lib_curl</em> or <em>curl</em>)</a></li>
<li><a href="#_wget">2.3. <em>wget</em></a></li>
<li><a href="#dodsrc">2.4. <em>ncdump</em>, <em>nccopy</em>, <em>Matlab</em>, and other applications that use <em>NetCDF-C</em></a></li>
<li><a href="#_integrated_data_viewer_idv">2.5. <em>Integrated Data Viewer (IDV)</em></a></li>
<li><a href="#_toolsui">2.6. <em>ToolsUI</em></a></li>
<li><a href="#_panoply">2.7. <em>Panoply</em></a></li>
<li><a href="#_pydap">2.8. <em>PyDAP</em></a></li>
</ul>
</li>
<li><a href="#_ldap">3. LDAP</a>
<ul class="sectlevel2">
<li><a href="#_curl_a_k_a_lib_curl_or_curl_2">3.1. <em>cURL</em> (a.k.a. <em>lib_curl</em> or <em>curl</em>)</a></li>
<li><a href="#_ncdump_nccopy_matlab_ferret_and_other_applications_that_are_built_on_netcdf_c">3.2. <em>ncdump</em>, <em>nccopy</em>, <em>Matlab</em>, <em>Ferret</em>, and other applications that are built on <em>NetCDF-C</em></a></li>
<li><a href="#_integrated_data_viewer_idv_2">3.3. <em>Integrated Data Viewer (IDV)</em></a></li>
<li><a href="#_toolsui_2">3.4. <em>ToolsUI</em></a></li>
<li><a href="#_panoply_2">3.5. <em>Panoply</em></a></li>
<li><a href="#_pydap_2">3.6. <em>PyDAP</em></a></li>
</ul>
</li>
<li><a href="#_shibboleth">4. Shibboleth</a>
<ul class="sectlevel2">
<li><a href="#_curl_a_k_a_lib_curl_or_curl_3">4.1. <em>cURL</em> (a.k.a. <em>lib_curl</em> or <em>curl</em>)</a></li>
<li><a href="#_ncdump_and_nccopy">4.2. <em>ncdump</em> and <em>nccopy</em></a></li>
<li><a href="#_integrated_data_viewer_idv_3">4.3. <em>Integrated Data Viewer (IDV)</em></a></li>
<li><a href="#_toolsui_3">4.4. <em>ToolsUI</em></a></li>
<li><a href="#_panoply_3">4.5. <em>Panoply</em></a></li>
<li><a href="#_matlab_ferret_other_applications_that_use_netcdf_c">4.6. <em>Matlab, Ferret, Other applications that use NetCDF C</em></a></li>
<li><a href="#_pydap_3">4.7. <em>PyDAP</em></a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_overview">1. Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document describes how to configure DAP clients to access data servers
that require users to be authenticated. The document is divided into four
sections. This Overview provides a brief introduction to the topic and some
background on commonly used clients. The remaining sections provide information
on three different authentication systems in use today: NASA&#8217;s Earthdata Login,
LDAP, and Shibboleth.</p>
</div>
<div class="paragraph">
<p>Many users access DAP servers using a browser as their primary software
interface. However, there is also a growing group of users that utilize either:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A "smart" tool. Where "smart" means that the tool understands how to interact
with a DAP service and construct DAP queries for data and use that in higher
level client side activities like GUI based graphs, image display, selection,
navigation, etc.</p>
</li>
<li>
<p>A command line tool such as "wget" or "curl" that can be used to extract data
from a DAP service, but the URL construction is left to the user or other software.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In both these cases we want these client software applications to be able to
manage authentication. In the case of command line style tools, being able
to authenticate without a user interaction is important for automated work
flows.</p>
</div>
<div class="sect2">
<h3 id="_some_dap_data_access_clients">1.1. Some DAP Data Access Clients</h3>
<div class="paragraph">
<p>The collection of software clients discussed here have some remarkable
similarities in the way that they handle the client end of
authentication. The clients that present a GUI to the user (Panoply, IDV, and
ToolsUI) will open a dialog box and prompt the user for credentials when the
server requires user authentication. The rest of these clients listed here use
a file called <code>.netrc</code> to store credentials. The <code>.netrc</code> file is a simple text
file and is described in detail in <a href="#netrc">Our friend, the <em>.netrc</em> file</a>.</p>
</div>
<div class="paragraph">
<p>Some DAP client software applications (those that utilize one of UNIDATA&#8217;s
NetCDF libraries to provide remote data access) will use the <code>.dodsrc</code> file to
store important authentication related information. The <code>.dodsrc</code> file is a simple
text file and is typically located in the users home directory. See
<a href="#dodsrc"><em>ncdump</em>, <em>nccopy</em>, <em>Matlab</em>, and other applications that use <em>NetCDF-C</em></a>
for more information about the <code>.dodsrc</code> file.</p>
</div>
<div class="paragraph">
<p>We tested each of the authentication steps on the folowing applications:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em><strong><a href="https://curl.se">cURL (a.k.a. lib_curl or curl)</a></strong></em>
<a href="https://curl.se">The cURL library</a> provides the HTTP functionality for a surprisingly large part
the world wide web. The cURL library also has a command line application, <code>curl</code>,
that can be used to issue HTTP requests and collect the responses. It can be a
very powerful data access tool when used manually or in the scope of a larger
shell script.</p>
<div class="ulist">
<ul>
<li>
<p><em>Credentials</em>: <em><strong>~/.netrc</strong></em></p>
</li>
<li>
<p><em>Uses ~/.dodsrc</em>: <em><strong>no</strong></em></p>
</li>
</ul>
</div>
</li>
<li>
<p><em><strong><a href="https://www.unidata.ucar.edu/software/netcdf/">ncdump, nccopy, netCDF4
Python, Matlab, and other applications using NetCDF-C</a></strong></em>
The <code>ncdump</code> and <code>nccopy</code> command line applications are part of
<a href="https://www.unidata.ucar.edu/software/netcdf/">the NetCDF-C
library</a> and can be utilized to access DAP resources. This means we can use
<code>ncdump</code> and <code>nccopy</code> as an easy sanity check for authentication issues for
command line applications that uses the netCDF-C library. Because the netCDF-C
library is the software component that is performing the authentication, the
configuration steps outlined here should directly translate to any application
that uses netCDF-C. These steps were tested against netCDF-C version 4.9.0.
If you have a different version you may wish to visit Unidata for the related
documentation.</p>
<div class="ulist">
<ul>
<li>
<p><em>Credentials</em>: <em><strong>~/.netrc</strong></em></p>
</li>
<li>
<p><em>Uses ~/.dodsrc</em>: <em><strong>yes</strong></em></p>
</li>
</ul>
</div>
</li>
<li>
<p><em><strong><a href="https://www.unidata.ucar.edu/software/idv/">Integrated Data Viewer (IDV)</a></strong></em>
<a href="https://www.unidata.ucar.edu/software/idv/">The Integrated Data Viewer</a> is GUI
driven data client that is based around the
CDM/NetCDF data model and utilizes that NetCDF-Java (and thus the Java DAP
implementation) to access remote DAP datasets. Because it has a GUI it can
retrieve (and cache for later) users credentials directly from the user.
Since IDV utilizes the Java-NetCDF library to access DAP resources then in
theory if it works for IDV then it should work for all the other clients that
use the Java-NetCDF library.</p>
<div class="ulist">
<ul>
<li>
<p><em>Credentials</em>: <em><strong>GUI</strong></em></p>
</li>
<li>
<p><em>Uses ~/.dodsrc</em>: <em><strong>no</strong></em></p>
</li>
</ul>
</div>
</li>
<li>
<p><em><strong><a href="https://docs.unidata.ucar.edu/netcdf-java/current/userguide/toolsui_ref.html">ToolsUI</a></strong></em>
<a href="https://docs.unidata.ucar.edu/netcdf-java/current/userguide/toolsui_ref.html">
The ToolsUI application</a>
is a simple is GUI driven data client that is based
around the CDM/NetCDF data model and utilizes that NetCDF-Java (and thus the
Java DAP implementation) to access remote DAP datasets. Because it has a GUI
it can retrieve (and cache for later) users credentials directly from the user.</p>
<div class="ulist">
<ul>
<li>
<p><em>Credentials</em>: <em><strong>GUI</strong></em></p>
</li>
<li>
<p><em>Uses ~/.dodsrc</em>: <em><strong>no</strong></em></p>
</li>
</ul>
</div>
</li>
<li>
<p><em><strong><a href="https://www.giss.nasa.gov/tools/panoply/">Panoply</a></strong></em>
<a href="https://www.giss.nasa.gov/tools/panoply/">The Panoply application</a> is a
sophisticated GUI driven data client that is based
around the CDM/NetCDF data model and utilizes that NetCDF-Java (and thus the
Java DAP implementation) to access remote DAP datasets. Because it has a GUI it
can retrieve (and cache for later) users credentials directly from the user.</p>
<div class="ulist">
<ul>
<li>
<p><em>Credentials</em>: <em><strong>GUI</strong></em></p>
</li>
<li>
<p><em>Uses ~/.dodsrc</em>: <em><strong>no</strong></em></p>
</li>
</ul>
</div>
</li>
<li>
<p><em><strong><a href="https://github.com/pydap/pydap">PyDAP</a></strong></em>
<a href="https://github.com/pydap/pydap">The PyDAP python software package</a> provides one
interface for python programs to read from OpenDAP servers (another is the
netCDF4 Python module, which uses the netCDF-C library to actually access data,
including data from OpenDAP servers).</p>
<div class="ulist">
<ul>
<li>
<p><em>Credentials</em>: <em><strong>~/.netrc</strong></em></p>
</li>
<li>
<p><em>Uses ~/.dodsrc</em>: <em><strong>no</strong></em></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="netrc">1.2. Our friend, the <code>.netrc</code> file</h3>
<div class="paragraph">
<p>The <code>~/.netrc</code> file (a file named <em><strong>.netrc</strong></em> located in your home directory,
aka <strong>~</strong>) is the way in which many of the data access clients discussed
here expect (i.e., are coded) to access credentials to be used in an
authentication exchange.</p>
</div>
<div class="paragraph">
<p>Because the <code>.netrc</code> file name starts with a dot, it is a hidden file and
will not be visible in a standard directory listing. You can use the <code>ls -a</code>
command to see all files in a directory, including hidden files.</p>
</div>
<div class="paragraph">
<p>Add login credentials for various servers to the <code>~/.netrc</code> file, associating each
set of credentials with the appropriate login endpoint. Here is an Earth Data
Login example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="apache">machine urs.earthdata.nasa.gov
	login your_edl_uid
	password your_edl_password</code></pre>
</div>
</div>
<div class="paragraph">
<p>And you can add more credentials and machines (aka single sign-on endpoints) as needed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="apache">machine urs.earthdata.nasa.gov
	login your_edl_uid
	password your_edl_password

machine sso.noaa.gov
	login your_noaa_uid
	password your_noaa_password

machine some.ldap.service.edu
	login your_ldap_uid
	password your_ldap_password</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
It is crucial that the access permissions be set to allow reading and
writing only by the account owner. This can be done using the command:
<code>chmod 600 ~/.netrc</code>
If <em>group</em> or <em>other</em> are allowed any access to the <code>~/.netrc</code> file the data
access client software will ignore (possibly silently) the <code>~/.netrc</code>
file and authentication will fail.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_earthdata_login_oauth2">2. Earthdata Login (OAuth2)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Earthdata Login is a NASA implementation of an OAuth2 Single Sign-On service.
In order to access NASA held data you will need to:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Obtain (for free) your own set of <a href="https://urs.earthdata.nasa.gov/users/new">
Earthdata Login credentials</a>.</p>
</li>
<li>
<p><em>Approve</em> the DAP server application that is serving the data you want, as
described in the following section.</p>
</li>
<li>
<p>Use this guide to configure your DAP client of choice (<em>curl</em>, browser,
etc.) to utilize these credentials.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_setting_up_earthdata_login">2.1. Setting Up Earthdata Login</h3>
<div class="sect3">
<h4 id="_acquire_earthdata_login_credentials">2.1.1. Acquire Earthdata Login Credentials</h4>
<div class="paragraph">
<p>Registering with Earthdata Login (EDL) and getting a
user account is free. Point you browser at the
<a href="https://urs.earthdata.nasa.gov/users/new">Earthdata Login New User</a>
page and do the stuff that needs the doing.</p>
</div>
</div>
<div class="sect3">
<h4 id="_approving_the_hyrax_opendap_service_application">2.1.2. Approving The Hyrax OPeNDAP Service Application</h4>
<div class="paragraph">
<p>Regardless of which software client you decide to employ, before you can access
any new Earthdata Login authenticated server you must first add that sever to
the list of <strong>Approved Applications</strong> in your Earthdata Login profile.</p>
</div>
<div class="paragraph">
<p>To do this you will need the Earthdata Login Application name (aka UID) under
which the DAP server is registered with Earthdata Login and your Earthdata
Login credentials.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>With your browser, navigate to your
<a href="https://urs.earthdata.nasa.gov/profile">Earthdata Login profile page.</a></p>
</li>
<li>
<p>Click the <strong>Applications</strong> tab and select <strong>Authorized Applications</strong> from the
pull down menu.This will take you to the <strong>Approved Applications</strong> page.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/EDL-Approved-Apps.png" alt="Earthdata Login Approve Applications Page" width="640" height="480">
</div>
</div>
<div class="paragraph">
<p>On the <strong>Approved Applications</strong> page:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>At the bottom of the page click the <strong>Approve More Applications</strong> button.
This will display the <strong>Approve Applications</strong> page.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/EDL-Approve-Apps-Application-Search.png" alt="Earthdata Login Approve Applications Page" width="640" height="480">
</div>
</div>
<div class="paragraph">
<p>In the search bar at the top of the page enter the name of the Hyrax OPeNDAP
service application, <strong><em>Hyrax in the cloud</em></strong> and then click the <strong>Search</strong> button,
this will bring you to the Earthdata Login Application Approval page:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/EDL-Approve-Apps-Application-Authorize.png" alt="Earthdata Login Application Approval Page" width="640" height="480">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Click the <em>Authorize</em> button associated with the <strong>Hyrax in the cloud_</strong> service.
You will be returned to the <strong>My Applications</strong> page where you should now see your
new application on the list of <em>Approved Applications</em>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The application named <strong>Hyrax in the cloud</strong> used in this example is the
only OPeNDAP service application running in the NASA cloud. There are many other
applications deployed in NASA and to use any of them with your EDL user account
you will have to authorize each application service in a similar manner
to <strong><em>Hyrax in the cloud</em></strong>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_curl_a_k_a_lib_curl_or_curl">2.2. <em>cURL</em> (a.k.a. <em>lib_curl</em> or <em>curl</em>)</h3>
<div class="paragraph">
<p>You can use command line <em>curl</em> to retrieve EDL authenticated resources
using the following technique.</p>
</div>
<div class="paragraph">
<p>Create a <code>~/.netrc</code> file as described in <a href="#netrc">the .netrc section above</a></p>
</div>
<div class="paragraph">
<p>Edit the <code>~/.netrc</code> file and associated your EDL credentials with the EDL
service endpoint utilized by your target DAP server:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="apache">machine urs.earthdata.nasa.gov
	login your_edl_uid
	password your_edl_password</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the configuration is correct you should now be able to retrieve a DDS object
in from the associated DAP service with the following <em>curl</em> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="c">#!/bin/bash</span>
<span class="nb">touch </span>cookie_file
curl <span class="nt">-n</span> <span class="nt">-c</span> cookie_file <span class="nt">-b</span> cookie_file <span class="nt">-L</span> <span class="nt">--url</span> https://opendap.earthdata.nasa.gov/hyrax/data/nc/fnoc1.nc.dds</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">What is happening here? </dt>
<dd>
<p>In this request cURL is both authenticating and
maintaining a session with the remote server (this is accomplished by telling
cURL to load and save cookies from the same file, <em>cookie_file</em> )</p>
</dd>
<dt class="hdlist1"><code>-n</code> </dt>
<dd>
<p>This tells <em>cURL</em> to authenticate using the <em>~/.netrc</em> file you
created/updated.</p>
</dd>
<dt class="hdlist1"><code>-c cookie_file</code> </dt>
<dd>
<p>This tells <em>cURL</em> to stash cookies in the file <em>cookie_file</em></p>
</dd>
<dt class="hdlist1"><code>-b cookie_file</code> </dt>
<dd>
<p>This tells <em>cURL</em> to read cookies from the file <em>cookie_file</em></p>
</dd>
<dt class="hdlist1"><code>-L</code> </dt>
<dd>
<p>This option (aka <em>--location</em>) tells <em>cURL</em> to follow redirects, which is a
must for any Single Sign On (SSO) authentication flow, such as OAuth2.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Do not use the  <code>--location-trusted</code> option. It will cause
<em>cURL</em> to spread user credentials to servers other than to which they were
associated.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>--url <a href="https://opendap.earthdata.nasa.gov/" class="bare">https://opendap.earthdata.nasa.gov/</a> &#8230;&#8203;</code> </dt>
<dd>
<p>The desired URL, protected by
the Earthdata Login authentication flow.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>In order to retrieve multiple URLs without re-authenticating you can use
multiple instances of the <em>--url</em> parameter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="c">#!/bin/bash</span>
curl <span class="nt">-k</span> <span class="nt">-n</span> <span class="nt">-c</span> cookie_file <span class="nt">-b</span> cookie_file <span class="nt">-L</span> <span class="se">\</span>
    <span class="nt">--url</span> https://opendap.earthdata.nasa.gov/ <span class="se">\</span>
    <span class="nt">--url</span> https://opendap.earthdata.nasa.gov/hyrax/data/nc/fnoc1.nc.dds <span class="se">\</span>
    <span class="nt">--url</span> https://opendap.earthdata.nasa.gov/hyrax/data/nc/coads_climatology.nc.dds</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or, since <em>cURL</em> is actually pretty smart about using cookies and such you can
also make multiple <em>curl</em> requests with the same cookies, and it won&#8217;t have to
reauthenticate with EDL once it&#8217;s authenticated the first time:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="c">#!/bin/bash</span>
curl <span class="nt">-k</span> <span class="nt">-n</span> <span class="nt">-c</span> cookie_file <span class="nt">-b</span> cookie_file <span class="nt">-L</span> <span class="nt">--url</span> https://opendap.earthdata.nasa.gov/hyrax/
curl <span class="nt">-k</span> <span class="nt">-n</span> <span class="nt">-c</span> cookie_file <span class="nt">-b</span> cookie_file <span class="nt">-L</span> <span class="nt">--url</span> https://opendap.earthdata.nasa.gov/hyrax/data/nc/fnoc1.nc.dds
curl <span class="nt">-k</span> <span class="nt">-n</span> <span class="nt">-c</span> cookie_file <span class="nt">-b</span> cookie_file <span class="nt">-L</span> <span class="nt">--url</span> https://opendap.earthdata.nasa.gov/hyrax/data/nc/coads_climatology.nc.dds</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_wget">2.3. <em>wget</em></h3>
<div class="paragraph">
<p>The <em>wget</em> documentation indicates that <em>wget</em> will automatically locate and
utilize the <em>.netrc</em> file that we created for <em>curl</em>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Summary </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Create a <code>~/.netrc</code> file as described in <a href="#netrc">the .netrc section above</a></p>
</li>
<li>
<p>Edit the <code>~/.netrc</code> file and associate your EDL credentials with the
EDL service endpoint.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>And happily it appears to work, as long as the <code>~/.netrc</code> file is in place.</p>
</div>
<div class="paragraph">
<p>Consider this <em>wget</em> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="c">#!/bin/bash</span>
wget  <span class="nt">--load-cookies</span> cookie_file <span class="nt">--save-cookies</span> cookie_file <span class="nt">--keep-session-cookie</span> https://opendap.earthdata.nasa.gov/hyrax/data/nc/fnoc1.nc.dds</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">What is happening here? </dt>
<dd>
<p>In this request <em>wget</em> is both authenticating and
maintaining a session with the remote server (the latter is accomplished by telling
wget to load and save cookies from the same file, <em>cookie_file</em>)</p>
</dd>
<dt class="hdlist1"><code>--load-cookies cookie_file</code> </dt>
<dd>
<p>Load cookies from the file "cookie_file"</p>
</dd>
<dt class="hdlist1"><code>--save-cookies cookie_file</code> </dt>
<dd>
<p>Save cookies to the file "cookie_file"</p>
</dd>
<dt class="hdlist1"><code>--keep-session-cookie</code> </dt>
<dd>
<p>Save session cookies.</p>
</dd>
<dt class="hdlist1"><code><a href="https://opendap.earthdata.nasa.gov/hyrax/data/nc/fnoc1.nc.dds" class="bare">https://opendap.earthdata.nasa.gov/hyrax/data/nc/fnoc1.nc.dds</a></code> </dt>
<dd>
<p>The URL to retrieve.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Here&#8217;s the request:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="c">#!/bin/bash</span>
<span class="nb">touch </span>cookie_file <span class="c"># Make sure the cookie file exists</span>
wget <span class="nt">--load-cookies</span> cookie_file <span class="nt">--save-cookies</span> cookie_file <span class="nt">--keep-session-cookie</span>  https://opendap.earthdata.nasa.gov/hyrax/data/nc/fnoc1.nc.dds</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here&#8217;s the output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="nt">--2014-11-14</span> 11:22:18--  https://opendap.earthdata.nasa.gov/hyrax/data/nc/fnoc1.nc.dds
Connecting to opendap.earthdata.nasa.gov:443... connected.
WARNING: cannot verify opendap.earthdata.nasa.gov<span class="s1">'s certificate, issued by `/C=US/ST=RI/L=Narragansett/O=OPeNDAP Inc./OU=Engineering/CN=opendap.earthdata.nasa.gov/emailAddress=support@opendap.org'</span>:
  Self-signed certificate encountered.
HTTP request sent, awaiting response... 302 Found
Location: https://urs.earthdata.nasa.gov/oauth/authorize?app_type<span class="o">=</span>401&amp;client_id<span class="o">=</span>04xHKVaNdYNzCBG6KB7-Ig&amp;response_type<span class="o">=</span>code&amp;redirect_uri<span class="o">=</span>https%3A%2F%2Fopendap.earthdata.nasa.gov%2Fopendap%2Flogin&amp;state<span class="o">=</span>aHR0cHM6Ly81NC4xNzIuOTcuNDcvb3BlbmRhcC9kYXRhL25jL2Zub2MxLm5jLmRkcw <span class="o">[</span>following]
<span class="nt">--2014-11-14</span> 11:22:19--  https://urs.earthdata.nasa.gov/oauth/authorize?app_type<span class="o">=</span>401&amp;client_id<span class="o">=</span>04xHKVaNdYNzCBG6KB7-Ig&amp;response_type<span class="o">=</span>code&amp;redirect_uri<span class="o">=</span>https%3A%2F%2Fopendap.earthdata.nasa.gov%2Fopendap%2Flogin&amp;state<span class="o">=</span>aHR0cHM6Ly81NC4xNzIuOTcuNDcvb3BlbmRhcC9kYXRhL25jL2Zub2MxLm5jLmRkcw
Resolving urs.earthdata.nasa.gov... 198.118.243.34, 2001:4d0:241a:4089::91
Connecting to urs.earthdata.nasa.gov|198.118.243.34|:443... connected.
WARNING: certificate common name <span class="sb">`</span>earthdata.nasa.gov<span class="s1">' doesn'</span>t match requested host name <span class="sb">`</span>urs.earthdata.nasa.gov<span class="s1">'.
HTTP request sent, awaiting response... 401 Unauthorized
Connecting to urs.earthdata.nasa.gov|198.118.243.34|:443... connected.
WARNING: certificate common name `earthdata.nasa.gov'</span> doesn<span class="s1">'t match requested host name `urs.earthdata.nasa.gov'</span><span class="nb">.</span>
HTTP request sent, awaiting response... 302 Found
Location: https://opendap.earthdata.nasa.gov/hyrax/login?code<span class="o">=</span>a590cfc189783e29a7b8ab3ce1e0357618cbab3f590e7268a26e7ad1f7cf899d&amp;state<span class="o">=</span>aHR0cHM6Ly81NC4xNzIuOTcuNDcvb3BlbmRhcC9kYXRhL25jL2Zub2MxLm5jLmRkcw <span class="o">[</span>following]
<span class="nt">--2014-11-14</span> 11:22:20--  https://opendap.earthdata.nasa.gov/hyrax/login?code<span class="o">=</span>a590cfc189783e29a7b8ab3ce1e0357618cbab3f590e7268a26e7ad1f7cf899d&amp;state<span class="o">=</span>aHR0cHM6Ly81NC4xNzIuOTcuNDcvb3BlbmRhcC9kYXRhL25jL2Zub2MxLm5jLmRkcw
Connecting to opendap.earthdata.nasa.gov:443... connected.
WARNING: cannot verify opendap.earthdata.nasa.gov<span class="s1">'s certificate, issued by `/C=US/ST=RI/L=Narragansett/O=OPeNDAP Inc./OU=Engineering/CN=opendap.earthdata.nasa.gov/emailAddress=support@opendap.org'</span>:
  Self-signed certificate encountered.
HTTP request sent, awaiting response... 302 Found
Location: https://opendap.earthdata.nasa.gov/hyrax/data/nc/fnoc1.nc.dds <span class="o">[</span>following]
<span class="nt">--2014-11-14</span> 11:22:21--  https://opendap.earthdata.nasa.gov/hyrax/data/nc/fnoc1.nc.dds
Connecting to opendap.earthdata.nasa.gov:443... connected.
WARNING: cannot verify opendap.earthdata.nasa.gov<span class="s1">'s certificate, issued by `/C=US/ST=RI/L=Narragansett/O=OPeNDAP Inc./OU=Engineering/CN=opendap.earthdata.nasa.gov/emailAddress=support@opendap.org'</span>:
  Self-signed certificate encountered.
HTTP request sent, awaiting response... 200 OK
Length: unspecified <span class="o">[</span>text/plain]
Saving to: <span class="sb">`</span>fnoc1.nc.dds<span class="s1">'

    [ &lt;=&gt; ] 197         --.-K/s   in 0s

2014-11-14 11:22:22 (7.23 MB/s) - `fnoc1.nc.dds'</span> saved <span class="o">[</span>197]

<span class="o">[</span>spooky:olfs/testsuite/urs] ndp% more fnoc1.nc.dds
Dataset <span class="o">{</span>
    Int16 u[time_a <span class="o">=</span> 16][lat <span class="o">=</span> 17][lon <span class="o">=</span> 21]<span class="p">;</span>
    Int16 v[time_a <span class="o">=</span> 16][lat <span class="o">=</span> 17][lon <span class="o">=</span> 21]<span class="p">;</span>
    Float32 lat[lat <span class="o">=</span> 17]<span class="p">;</span>
    Float32 lon[lon <span class="o">=</span> 21]<span class="p">;</span>
    Float32 <span class="nb">time</span><span class="o">[</span><span class="nb">time</span> <span class="o">=</span> 16]<span class="p">;</span>
<span class="o">}</span> fnoc1.nc<span class="p">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>It appears that <em>wget</em> correctly followed the first redirect to
<code>urs.earthdata.nasa.gov</code>, where the EDL server responded with
"401 Unauthorized" (thanks to the app_type=401 query parameter in the
redirect URL provided by the <em>origin</em> server). After getting the 401 <em>wget</em>
resubmits the request with the authentication credentials and the EDL server
accepts them and redirects <em>wget</em> back to the <em>origin</em> server to complete the
request.</p>
</div>
</div>
<div class="sect2">
<h3 id="dodsrc">2.4. <em>ncdump</em>, <em>nccopy</em>, <em>Matlab</em>, and other applications that use <em>NetCDF-C</em></h3>
<div class="paragraph">
<p>Applications built with one of UNIDATA&#8217;s NetCDF libraries may require, in
addition to a <em>~/.netrc</em> file, a <em>.dodsrc</em> file to be present in the users home
directory in order for the application to successfully authenticate during
remote data access activities.
<a href="https://docs.unidata.ucar.edu/nug/current/dap2.html">You can learn more about
the <em>.dodsrc</em> file at UNIDATA&#8217;s NetCDF and DAP2 page.</a></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Summary </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Create a <code>~/.netrc</code> file as described in <a href="#netrc">the .netrc section above</a></p>
</li>
<li>
<p>Edit the <code>~/.netrc</code> file and associate your EDL credentials with the
EDL service endpoint.</p>
</li>
<li>
<p>Next create (as needed) and then edit the file <em>~/.dodsrc</em> so that it tells DAP
clients to use the <em>.netrc</em> file for password information:</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="apache">HTTP.COOKIEJAR=/home/your_home_dir/cookie_file
HTTP.NETRC=/home/your_home_dir/.netrc</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is a typical <em>.dodsrc</em> file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="apache"><span class="c"># OPeNDAP client configuration file. See the OPeNDAP</span>
<span class="c"># users guide for information.</span>
USE_CACHE=0
<span class="c"># Cache and object size are given in megabytes (20 ==&gt; 20Mb).</span>
MAX_CACHE_SIZE=20
MAX_CACHED_OBJ=5
IGNORE_EXPIRES=0
CACHE_ROOT=/home/your_home_dir/.dods_cache/
DEFAULT_EXPIRES=1
ALWAYS_VALIDATE=1
<span class="c"># Request servers compress responses if possible?</span>
<span class="c"># 1 (yes) or 0 (false).</span>
DEFLATE=1
<span class="c"># Proxy configuration:</span>
<span class="c"># PROXY_SERVER=&lt;protocol&gt;,&lt;[username:password@]host[:port]&gt;</span>
<span class="c"># NO_PROXY_FOR=&lt;protocol&gt;,&lt;host|domain&gt;</span>
<span class="c"># AIS_DATABASE=&lt;file or="" url=""&gt;</span>

<span class="c"># Earth Data Login and LDAP login information</span>
HTTP.COOKIEJAR=/home/your_home_dir/cookie_file
HTTP.NETRC=/home/your_home_dir/.netrc</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">For other NeCDF-C built applications </dt>
<dd>
<p><em>
Check the version of the netCDF C library that the application uses; once they
have updated to 4.3.3.1 or later, authentication configuration should be the
same as this <code>ncdump</code> example. That is, both EDL and LDAP-backed
HTTP/S-Basic authentication should work by reading credentials from the <code>.netrc</code>
file given that the <code>.dodsrc</code> file is set to point to them.
</em></p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This was tested with the <code>ncdump</code> and <code>nccopy</code> command line applications
that come bundled with the netcdf-c library. This content was developed using
NetCDF-4.9.0. Previous versions may not work.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The online documentation for version
<a href="https://docs.unidata.ucar.edu/netcdf-c/4.8.1/index.html">netcdf-c-4.8.1</a> contains
instructions written by UNIDATA for
<a href="https://docs.unidata.ucar.edu/netcdf-c/4.8.1/md_auth.html">configuring authentication</a>.
Oddly, the
<a href="https://docs.unidata.ucar.edu/netcdf-c/current/">online documentation most for
the current netcdf-c release, 4.9.2 at the time of this writing, no longer
contains an authentication/authorization discussion.</a>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_integrated_data_viewer_idv">2.5. <a href="https://www.unidata.ucar.edu/software/idv/"><em>Integrated Data Viewer (IDV)</a></em></h3>
<div class="paragraph">
<p>We <a href="http://www.unidata.ucar.edu/downloads/idv/current/index.jsp">downloaded the
latest version of IDV</a> (6.1u2 on 03/Apr/2023) and installed it on our local
system.</p>
</div>
<div class="paragraph">
<p>For EDL testing we utilized our AWS test service, configured to require EDL
authentication for all access of Hyrax.</p>
</div>
<div class="paragraph">
<p>In IDV we attempted to choose a new dataset by starting with the "<strong>Data</strong>" menu:
<strong>Data</strong> &gt; <strong>Choose Data</strong> &gt; <strong>From A Web Server</strong></p>
</div>
<div class="paragraph">
<p>In the resulting pane we entered the AWS test service URL for our friend
<em>coads_climatology.nc</em>:</p>
</div>
<div class="paragraph">
<p><a href="https://opendap.earthdata.nasa.gov/hyrax/data/nc/coads_climatology.nc" class="bare">https://opendap.earthdata.nasa.gov/hyrax/data/nc/coads_climatology.nc</a></p>
</div>
<div class="paragraph">
<p>When we committed the edit (aka hit Enter) IDV popped up a dialog box that
indicated that the <em>urs.earthdata.nasa.gov</em> server wanted our credentials:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/IDVAuthDialog.png" alt="IDV EDL Authentication Dialog">
</div>
</div>
<div class="paragraph">
<p>We entered our EDL Name and Password, clicked the save password check box,
and clicked the <em>OK</em> button.</p>
</div>
<div class="paragraph">
<p>At this point IDV returned a Null Pointer Exception:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>java.lang.NullPointerException
  at ucar.unidata.data.DataManager.createDataSource(DataManager.java:1623)
  at ucar.unidata.idv.IntegratedDataViewer.createDataSource(IntegratedDataViewer.java:1978)
  at ucar.unidata.idv.IntegratedDataViewer.makeDataSource(IntegratedDataViewer.java:1895)
  at ucar.unidata.idv.IntegratedDataViewer.makeDataSource(IntegratedDataViewer.java:1829)
  at ucar.unidata.idv.IntegratedDataViewer.handleAction(IntegratedDataViewer.java:1671)
  at ucar.unidata.idv.DefaultIdv.handleAction(DefaultIdv.java:116)
  at ucar.unidata.idv.IntegratedDataViewer.handleAction(IntegratedDataViewer.java:1603)
  at ucar.unidata.idv.chooser.UrlChooser.loadURLInner(UrlChooser.java:267)
  at ucar.unidata.idv.chooser.UrlChooser.loadURL(UrlChooser.java:239)
  at ucar.unidata.idv.chooser.UrlChooser.doLoadInThread(UrlChooser.java:286)
  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  at java.lang.reflect.Method.invoke(Method.java:498)
  at ucar.unidata.util.Misc$2.run(Misc.java:1215)
  at ucar.unidata.util.Misc$3.run(Misc.java:1243)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_toolsui">2.6. <em>ToolsUI</em></h3>
<div class="paragraph">
<p>We <a href="ftp://ftp.unidata.ucar.edu/pub/netcdf-java/v4.5/toolsUI-4.5.jar">downloaded the latest version of ToolsUI</a>
(5.5.3 on 03/Apr/2023) and installed it on our local system. We launched ToolsUI using
the command line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">java <span class="nt">-Xmx1g</span> <span class="nt">-jar</span> toolsUI-5.5.3.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Summary: Authentication FAILED</em></p>
</div>
<div class="paragraph">
<p>For testing, we utilized our the NGAP Hyrax service, which requires EDL
authentication for all data access.</p>
</div>
<div class="paragraph">
<p>In ToolsUI we selected the <em>Viewer</em> tab, and entered the URL for our friend
<em>fnoc1.nc</em>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://opendap.earthdata.nasa.gov/hyrax/data/nc/fnoc1.nc" class="bare">https://opendap.earthdata.nasa.gov/hyrax/data/nc/fnoc1.nc</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When we committed the edit (aka hit Enter) ToolsUI popped up a dialog box that
indicated that the <em>urs.earthdata.nasa.gov</em> server wanted our credentials.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ToolsUIAuthDialog.png" alt="ToolsUI EDL Authentication Dialog">
</div>
</div>
<div class="paragraph">
<p>We entered our EDL credentials and clicked the <em>OK</em> button. After a few seconds</p>
</div>
<div class="paragraph">
<p>ToolsUI returned an error:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>java.io.IOException: https://opendap.earthdata.nasa.gov/hyrax/data/nc/fnoc1.nc is not a valid URL, return status=405</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ToolsUI_405_Error.png" alt="ToolsUI_405_Error.png">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_panoply">2.7. <em><a href="http://www.giss.nasa.gov/tools/panoply">Panoply</a></em></h3>
<div class="paragraph">
<p>We <a href="http://www.giss.nasa.gov/tools/panoply/download_mac.html">downloaded the latest version of Panoply</a>
(5.2.5 on 04/Apr/2023) and installed it on our local system. We launched Panoply
(clicking its icon in our Applications folder)</p>
</div>
<div class="paragraph">
<p><em>Summary: Authentication FAILED</em></p>
</div>
<div class="paragraph">
<p>For testing, we utilized our AWS test service, configured to require EDL
authentication for all access of Hyrax.</p>
</div>
<div class="paragraph">
<p>From the <em>File</em> menu, we selected "Open Remote Dataset&#8230;&#8203;" and in the pop dialog
we entered the URL for our friend <em>coads_climatology.nc</em>:</p>
</div>
<div class="paragraph">
<p><a href="https://opendap.earthdata.nasa.gov/hyrax/data/nc/coads_climatology.nc" class="bare">https://opendap.earthdata.nasa.gov/hyrax/data/nc/coads_climatology.nc</a></p>
</div>
<div class="paragraph">
<p>When we committed the edit (aka hit Enter) Panoply popped up a dialog box that
indicated that the <em>urs.earthdata.nasa.gov</em> server wanted our credentials.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/PanoplyAuthDialog.png" alt="Panoply EDL Authentication Dialog">
</div>
</div>
<div class="paragraph">
<p>We entered them, clicked the save password check box, and clicked the <em>OK</em>
button.</p>
</div>
<div class="paragraph">
<p>Panoply returned a NUll Pointer exception</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/Panoply-NPE.png" alt="Panoply NPE">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pydap">2.8. <em>PyDAP</em></h3>
<div class="paragraph">
<p>PyDAP includes an extension mechanism so that it can interact with
different kinds of authentication systems. This system is very flexible: we
were able to use it to add support for both LDAP and EDL using HTTP/S Basic
authentication.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Summary </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Create a <code>~/.netrc</code> file as described in <a href="#netrc">the .netrc section above</a></p>
</li>
<li>
<p>Edit the <code>~/.netrc</code> file and associate your EDL credentials with the
EDL service endpoint.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Once the <em>.netrc</em> file is configured, start python, and then acquire data from
remote DAP services.
Here&#8217;s a python script that  will open a PyDAP virtual connection to an
authenticated server if your <code>~/.netrc</code> is in order for EDL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="c1"># PyDAP uses the request() function and automagically discovers the
# users credentials in ~/.netrc
</span>
<span class="kn">import</span> <span class="n">pydap</span>

<span class="n">dataset_url</span><span class="o">=</span><span class="sh">"</span><span class="s">https://opendap.earthdata.nasa.gov/hyrax/data/nc/fnoc1.nc</span><span class="sh">"</span>

<span class="n">pydap_dataset</span> <span class="o">=</span> <span class="n">pydap</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="nf">open_url</span><span class="p">(</span><span class="n">dataset_url</span><span class="p">,</span> <span class="n">protocol</span><span class="o">=</span><span class="sh">"</span><span class="s">dap4</span><span class="sh">"</span><span class="p">)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ldap">3. <a href="https://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol">LDAP</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Lightweight Directory Access Protocol (LDAP) can do many things. One of
those things is to Single Sign On (SSO) authentication  service.</p>
</div>
<div class="sect2">
<h3 id="_curl_a_k_a_lib_curl_or_curl_2">3.1. <em>cURL</em> (a.k.a. <em>lib_curl</em> or <em>curl</em>)</h3>
<div class="paragraph">
<p>We were able to use command line <em>curl</em> to retrieve LDAP authenticated resources
using the following technique.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Summary </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Create a <code>~/.netrc</code> file as described in <a href="#netrc">the .netrc section above</a></p>
</li>
<li>
<p>Edit the <code>~/.netrc</code> file and associate your credentials with the LDAP service
endpoint.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>We could then access the top level directory of an LDAP authenticated
Hyrax server with the following <em>curl</em> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh"><span class="c">#!/bin/bash</span>
curl <span class="nt">-k</span> <span class="nt">-n</span> <span class="nt">-c</span> cookie_file <span class="nt">-b</span> cookie_file  <span class="nt">--url</span> https://some.ldap.tester/opendap</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">What is happening here? </dt>
<dd>
<p>In this request cURL is both authenticating and
maintaining a session with the remote server (this is accomplished by telling
cURL to load and save cookies from the same file, <em>cookie_file</em> )</p>
</dd>
<dt class="hdlist1"><code>-k</code> </dt>
<dd>
<p>This tells <em>curl</em> to accept self-signed certificates. This is ok for
working with trusted (as in your own) "test" services but should be removed
for working with production systems. Because: Security, Chain-Of-Trust, etc.</p>
</dd>
<dt class="hdlist1"><code>-n</code> </dt>
<dd>
<p>This tells <em>curl</em> to use that <em>~/.netrc</em> file we created.</p>
</dd>
<dt class="hdlist1"><code>-c cookie_file</code> </dt>
<dd>
<p>This tells <em>curl</em> to stash cookies in the file <em>cookie_file</em></p>
</dd>
<dt class="hdlist1"><code>-b cookie_file</code> </dt>
<dd>
<p>This tells <em>curl</em> to read cookies from the file <em>cookie_file</em></p>
</dd>
<dt class="hdlist1"><code>--url <a href="https://130.56.244.153/opendap" class="bare">https://130.56.244.153/opendap</a></code> </dt>
<dd>
<p>The desired URL, protected LDAP
authentication.</p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
That the credentials are sent with every request so secure transport is a
must if user accounts are to be protected.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_ncdump_nccopy_matlab_ferret_and_other_applications_that_are_built_on_netcdf_c">3.2. <em>ncdump</em>, <em>nccopy</em>, <em>Matlab</em>, <em>Ferret</em>, and other applications that are built on <em>NetCDF-C</em></h3>
<div class="paragraph">
<p>To configure <code>nccopy</code> and <code>ncdump</code> (and thus just about every client application
that uses netCDF C) for LDAP-back HTTP/S-Basic authentication, follow the same
exact procedure as outline above for EDL, except that in the <em>.netrc</em> file, use
the OpenDAP server&#8217;s machine name or IP number in place of the EDL
authentication site. Here&#8217;s a summary, with an example:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Summary </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Create a <code>~/.netrc</code> file as described in <a href="#netrc">the .netrc section above</a></p>
</li>
<li>
<p>Edit the <code>~/.netrc</code> file and associate your credentials with the LDAP service
endpoint.</p>
</li>
<li>
<p>Edit (create as needed) the <em>~/.dodsrc</em> file so that it tells DAP clients to
use the <em>~/.netrc</em> file for password information.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="apache">HTTP.COOKIEJAR=/home/your_home_dir/cookie_file
HTTP.NETRC=/home/your_home_dir/.netrc</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_integrated_data_viewer_idv_2">3.3. <em>Integrated Data Viewer (IDV)</em></h3>
<div class="paragraph">
<p>For testing, we utilized an ANU/NCI puppet instance configured to require LDAP
authentication for all access of Hyrax.</p>
</div>
<div class="paragraph">
<p>In IDV we attempted to choose a new dataset by starting with the "Data" menu:
<strong>Data</strong> &gt; <strong>Choose Data</strong> &gt; <strong>From A Web Server</strong></p>
</div>
<div class="paragraph">
<p>In the resulting pane we entered the LDAP test service URL for our friend
<em>coads_climatology.nc</em>:</p>
</div>
<div class="paragraph">
<p><a href="https://130.56.244.153/hyrax/data/nc/coads_climatology.nc" class="bare">https://130.56.244.153/hyrax/data/nc/coads_climatology.nc</a></p>
</div>
<div class="paragraph">
<p>When we committed the edit (aka hit Enter) IDV popped up a dialog box that
indicated that the <em>130.56.244.153</em> server wanted our credentials:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/IDV-LDAP.png" alt="IDV LDAP Authentication Dialog">
</div>
</div>
<div class="paragraph">
<p>WE entered them, clicked the save password check box, and clicked the <em>OK</em>
button. IDV was then able to access the requested resource.</p>
</div>
</div>
<div class="sect2">
<h3 id="_toolsui_2">3.4. <em>ToolsUI</em></h3>
<div class="paragraph">
<p><em>Summary: Authentication Successful</em></p>
</div>
<div class="paragraph">
<p>For testing, WE utilized an ANU/NCI puppet instance configured to require LDAP
authentication for all access of Hyrax.</p>
</div>
<div class="paragraph">
<p>In ToolsUI selected the <em>Viewer</em> tab, and entered the LDAP test service URL for
our friend <em>coads_climatology.nc</em>:</p>
</div>
<div class="paragraph">
<p><a href="https://130.56.244.153/opendap/data/nc/coads_climatology.nc" class="bare">https://130.56.244.153/opendap/data/nc/coads_climatology.nc</a></p>
</div>
<div class="paragraph">
<p>When we committed the edit (aka hit Enter) ToolsUI popped up a dialog box that
indicated that the <em>urs.earthdata.nasa.gov</em> server wanted our credentials.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ToolsUI-LDAP.png" alt="ToolsUI LDAP Authentication Dialog">
</div>
</div>
<div class="paragraph">
<p>We entered them and clicked the <em>OK</em> button. ToolsUI was then able to access
the requested resource.</p>
</div>
</div>
<div class="sect2">
<h3 id="_panoply_2">3.5. <em>Panoply</em></h3>
<div class="paragraph">
<p><em>Summary: Authentication Successful</em></p>
</div>
<div class="paragraph">
<p>For testing, we utilized an ANU/NCI puppet instance configured to require LDAP
authentication for all access of Hyrax.</p>
</div>
<div class="paragraph">
<p>From the <em>File</em> menu, we selected "Open Remote Dataset&#8230;&#8203;" and in the pop dialog
we entered the URL for our friend <em>coads_climatology.nc</em>:</p>
</div>
<div class="paragraph">
<p><a href="https://130.56.244.153/opendap/data/nc/coads_climatology.nc" class="bare">https://130.56.244.153/opendap/data/nc/coads_climatology.nc</a></p>
</div>
<div class="paragraph">
<p>When we committed the edit (aka hit Enter) Panoply popped up a dialog box that
indicated that the <em>urs.earthdata.nasa.gov</em> server wanted our credentials.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/Panoply-LDAP.png" alt="Panoply LDAP Authentication Dialog">
</div>
</div>
<div class="paragraph">
<p>We entered them, clicked the save password check box, and clicked the <em>OK</em>
button. Panoply was then able to access the requested resource.</p>
</div>
</div>
<div class="sect2">
<h3 id="_pydap_2">3.6. <em>PyDAP</em></h3>
<div class="paragraph">
<p>PyDAP includes an extension mechanism so that it can interact with
different kinds of authentication systems. This system is very flexible: we
were able to use it to add support for both LDAP and EDL using HTTP/S Basic
authentication. The same scheme could be used to add support for Shibboleth,
although it would take additional development work (described in general below).</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Summary </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Create a <code>~/.netrc</code> file as described in <a href="#netrc">the .netrc section above</a></p>
</li>
<li>
<p>Edit the <code>~/.netrc</code> file and associate your EDL credentials with the
EDL service endpoint.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Once the <em>.netrc</em> file is configured, start python, and then acquire data from
remote DAP services.
Here&#8217;s a python script that  will open a PyDAP virtual connection to an
authenticated server if your <code>~/.netrc</code> is in order for EDL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="python"><span class="c1"># PyDAP uses the request() function and automagically discovers the
# users credentials in ~/.netrc
</span>
<span class="kn">import</span> <span class="n">pydap</span>

<span class="n">dataset_url</span><span class="o">=</span><span class="sh">"</span><span class="s">https://opendap.earthdata.nasa.gov/hyrax/data/nc/fnoc1.nc</span><span class="sh">"</span>

<span class="n">pydap_dataset</span> <span class="o">=</span> <span class="n">pydap</span><span class="p">.</span><span class="n">client</span><span class="p">.</span><span class="nf">open_url</span><span class="p">(</span><span class="n">dataset_url</span><span class="p">,</span> <span class="n">protocol</span><span class="o">=</span><span class="sh">"</span><span class="s">dap4</span><span class="sh">"</span><span class="p">)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_shibboleth">4. <a href="https://www.shibboleth.net">Shibboleth</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Shibboleth is a collection of open source tools that provide identity management
(aka authentication services) has fairly broad adoption globally. It is in use
at a number of UK and Australian institutions.</p>
</div>
<div class="sect2">
<h3 id="_curl_a_k_a_lib_curl_or_curl_3">4.1. <em>cURL</em> (a.k.a. <em>lib_curl</em> or <em>curl</em>)</h3>
<div class="paragraph">
<p>We were not able to use command line <em>curl</em> to retrieve Shibboleth authentication
resources using the <em>.netrc</em> technique described in the LDAP and EDL sections.</p>
</div>
<div class="paragraph">
<p>Analysis of the HTTP conversation between the idp.testshib.org  server and
<em>curl</em> shows that curl correctly follows the series of 302 redirects issued to
it, first by the Apache service bound to the Hyrax server and then from the
idp.testshib.org server. In every request to the idp.testshib.org server the
<em>curl</em> client correctly offers the credentials via the HTTP Authorization
header:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="apache">0000: GET /idp/Authn/UserPassword HTTP/1.1
0026: Authorization: <span class="ss">Basic</span> bXlzZWxmOm15c2VsZg==
0051: User-Agent: curl/7.21.4 (universal-apple-darwin11.0) libcurl/7.2
0091: 1.4 OpenSSL/0.9.8z zlib/1.2.5
00b0: Host: idp.testshib.org
00c8: Accept: */*
00d5: Cookie: _idp_authn_lc_key=efbb6e2a9d893b47fb802ed575329ce69c101b
0115: 3ea8beb6744fab64fc406c358f; JSESSIONID=5A1731EDE00613B13803968CF
0155: AF06284
015e:</code></pre>
</div>
</div>
<div class="paragraph">
<p>But the Shibboleth system doesn&#8217;t respond to them. This may be a simple
configuration issue on the Shibboleth end, or it could be that the Shibboleth
protocol specifically forbids accepting credentials via HTTP Authorization
headers.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ncdump_and_nccopy">4.2. <em>ncdump</em> and <em>nccopy</em></h3>
<div class="paragraph">
<p>At the time of this writing the <em>ncdump</em> application and the NetCDF library do
not support authentication using the Shibboleth ECP profile.</p>
</div>
</div>
<div class="sect2">
<h3 id="_integrated_data_viewer_idv_3">4.3. <em>Integrated Data Viewer (IDV)</em></h3>
<div class="paragraph">
<p><em>Summary: Failed To Authenticate</em></p>
</div>
<div class="paragraph">
<p>For Shibboleth testing we utilized an AWS VM, configured to require Shibboleth
authentication for all access of Hyrax.</p>
</div>
<div class="paragraph">
<p>In IDV we attempted to choose a new dataset by starting with the "Data" menu:
Data &gt; Choose Data &gt; From A Web Server</p>
</div>
<div class="paragraph">
<p>In the resulting pane we entered the AWS VM service URL for our friend
<em>coads_climatology.nc</em>:</p>
</div>
<div class="paragraph">
<p><a href="https://54.174.13.127/opendap/data/nc/coads_climatology.nc" class="bare">https://54.174.13.127/opendap/data/nc/coads_climatology.nc</a></p>
</div>
<div class="paragraph">
<p>When we committed the edit (aka hit Enter) IDV popped up a dialog box that
indicated that there was an error loading the data:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/IDV-Shibboleth.png" alt="IDV Shibboleth Authentication Failure Dialog">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_toolsui_3">4.4. <em>ToolsUI</em></h3>
<div class="paragraph">
<p><em>Summary: Failed To Authenticate</em></p>
</div>
<div class="paragraph">
<p>For Shibboleth testing we utilized an AWS VM, configured to require Shibboleth
authentication for all access of Hyrax.</p>
</div>
<div class="paragraph">
<p>In ToolsUI selected the <em>Viewer</em> tab, and entered the AWS test service URL
for our friend <em>coads_climatology.nc</em>:</p>
</div>
<div class="paragraph">
<p><a href="https://54.174.13.127/opendap/data/nc/coads_climatology.nc" class="bare">https://54.174.13.127/opendap/data/nc/coads_climatology.nc</a></p>
</div>
<div class="paragraph">
<p>When we committed the edit (aka hit Enter) ToolsUI popped up a dialog box that
indicated that there was an error loading the data:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ToolsUI-Shibboleth.png" alt="ToolsUI Shibboleth Authentication Failure">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_panoply_3">4.5. <em>Panoply</em></h3>
<div class="paragraph">
<p><em>Summary: Failed To Authenticate</em></p>
</div>
<div class="paragraph">
<p>For Shibboleth testing we utilized an AWS VM, configured to require Shibboleth
authentication for all access of Hyrax.</p>
</div>
<div class="paragraph">
<p>From the <em>File</em> menu, we selected "Open Remote Dataset&#8230;&#8203;" and in the pop dialog
we entered the URL for our friend <em>coads_climatology.nc</em>:</p>
</div>
<div class="paragraph">
<p><a href="https://130.56.244.153/opendap/data/nc/coads_climatology.nc" class="bare">https://130.56.244.153/opendap/data/nc/coads_climatology.nc</a></p>
</div>
<div class="paragraph">
<p>When we committed the edit (aka hit Enter) Panoply popped up a dialog box that
indicated that there was an error loading the data:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/Panoply-Shibboleth.png" alt="Panoply Shibboleth Authentication Failure">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_matlab_ferret_other_applications_that_use_netcdf_c">4.6. <em>Matlab, Ferret, Other applications that use NetCDF C</em></h3>
<div class="paragraph">
<p>This is certain to not work until the netCDF C library is modified to explicitly
support it.</p>
</div>
</div>
<div class="sect2">
<h3 id="_pydap_3">4.7. <em>PyDAP</em></h3>
<div class="paragraph">
<p>This will require a new patch function, similar to <em>install_basic_client()</em> be
written. It will be a bit more complex because of the increased complexity of
Shibboleth, but the operation for end-users will likely be the same.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-04-19 02:05:07 UTC
</div>
</div>
</body>
</html>